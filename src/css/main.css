/* ──────────────────────────────────────────────
   Google Fonts
   ────────────────────────────────────────────── */
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&family=Roboto+Slab:wght@400;500;700&display=swap');

/* ──────────────────────────────────────────────
   Tailwind layers
   ────────────────────────────────────────────── */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* ──────────────────────────────────────────────
   1) Base layer
   ────────────────────────────────────────────── */
@layer base {
  body {
    @apply text-base;
  }

  /* Global headings — now bold + hover‑zoom */
  h1, .h1,
  h2, .h2,
  h3, .h3,
  h4, .h4,
  h5, h6 {
    @apply font-extrabold leading-tight tracking-tight break-words transition-transform duration-300 hover:scale-105;
    line-height: 1.2;
  }

  /* Native smooth scrolling (kept once) */
  html {
    scroll-behavior: smooth;
  }
}

/* ──────────────────────────────────────────────
   2) Components layer
   ────────────────────────────────────────────── */
@layer components {
  /* Markdown styling */
  .sb-markdown {
    @apply leading-relaxed;

    a       { @apply underline transition duration-200 ease-in; }
    a:hover { @apply text-primary; }

    b, strong { @apply font-bold; }
    em        { @apply italic; }

    * + * { margin-top: 1.5em; }

    /* Markdown headings — inherit hover zoom + bold */
    h1, h2, h3, h4, h5, h6 {
      @apply font-extrabold transition-transform duration-300 hover:scale-105;
      margin-top: 3.5rem;
    }
    h1:first-child,
    h2:first-child,
    h3:first-child,
    h4:first-child { margin-top: 0; }

    h1 + h2,
    h2 + h3,
    h3 + h4,
    h4 + h5,
    h5 + h6 { margin-top: 1.5rem; }

    /* Lists */
    ol { @apply list-decimal pl-5; }
    ul { @apply list-disc   pl-5; }
    li > ul, li > ol { margin: 0; }
    li + li { margin-top: 0.5rem; }

    /* Blockquote */
    blockquote {
      @apply border-l-4 border-current pl-5;
      font-size: 1.25em;
      line-height: 1.4;
      margin: 2.5rem 0;
    }

    /* Code block */
    pre {
      @apply border border-current overflow-x-auto leading-normal p-5;
    }

    /* Horizontal rule */
    hr { @apply bg-current border-0 h-px my-10; }

    /* Figures & tables */
    figcaption { @apply leading-normal text-sm mt-2; }
    table      { @apply border border-current border-collapse text-left w-full; }
    caption    { @apply text-left text-sm mb-2; }
    th, td     { @apply border-r border-b border-current p-2; }
    th         { @apply font-bold; }
  }

  /* Hover colour for headings, links, buttons */
  h1:hover, h2:hover, h3:hover, h4:hover, h5:hover, h6:hover,
  .sb-component-link:hover,
  .sb-component-button-secondary:hover {
    @apply text-primary transition duration-200 ease-in-out;
  }

  /* Buttons & links */
  .sb-component-button {
    @apply inline-flex items-center justify-center text-center border transition duration-200 ease-in hover:-translate-y-1;
  }
  .sb-component-link          { @apply inline-flex items-center justify-center transition duration-200 ease-linear; }
  .sb-component-link-primary  { @apply text-primary hover:underline; }
  .sb-component-link-secondary{ @apply text-current hover:text-primary transition duration-200; }

  /* Checkbox tick */
  option { color: initial; }
  .sb-checkbox:checked + .sb-label:before { content: '\2713'; }

  /* Image strip */
  .sb-image-strip-track   { min-width: 160rem; }
  .sb-image-strip-content { min-width: 80rem; }

  /* Carousel */
  .sb-carousel-dot              { @apply w-4 h-4 cursor-pointer; }
  .sb-carousel-tab-title        {
    @apply cursor-pointer opacity-40 max-w-xs;
    display: -webkit-box;
    line-height: 1.5;
    max-height: 1.5em;
    overflow-y: hidden;
    text-overflow: ellipsis;
    -webkit-line-clamp: 1;
    -webkit-box-orient: vertical;
  }
  .sb-carousel-tab-title-active { @apply opacity-100; }

  /* Theme helpers (light / neutral / dark) */
  .bg-light-fg-dark,
  .sb-card.bg-light-fg-dark {
    @apply text-dark bg-light;
    .sb-input, .sb-select, .sb-textarea { @apply placeholder-dark/50; }
    .sb-component-button-primary        { @apply bg-primary border-primary text-light; }
    .sb-component-button-secondary      { @apply border-dark text-dark; }
    .sb-divider, .sb-footer-bottom      { @apply border-neutral; }
    .sb-carousel-prev,
    .sb-carousel-next                   { @apply bg-dark text-light; }
    .sb-carousel-dot                    { @apply bg-dark/20; }
    .sb-carousel-dot-active             { @apply bg-dark; }
  }

  .bg-neutral-fg-dark,
  .sb-card.bg-neutral-fg-dark {
    @apply text-dark bg-neutral;
    .sb-input, .sb-select, .sb-textarea { @apply placeholder-dark/50; }
    .sb-component-button-primary        { @apply bg-primary border-primary text-light; }
    .sb-component-button-secondary      { @apply border-dark text-dark; }
    .sb-divider, .sb-footer-bottom      { @apply border-neutralAlt; }
    .sb-carousel-prev,
    .sb-carousel-next                   { @apply bg-dark text-light; }
    .sb-carousel-dot                    { @apply bg-dark/20; }
    .sb-carousel-dot-active             { @apply bg-dark; }
  }

  .bg-dark-fg-light,
  .sb-card.bg-dark-fg-light {
    @apply text-light bg-dark;
    .sb-input, .sb-select, .sb-textarea { @apply placeholder-light/50; }
    .sb-component-button-primary        { @apply bg-primary border-primary text-light; }
    .sb-component-button-secondary      { @apply border-light text-light; }
    .sb-divider, .sb-footer-bottom      { @apply border-light/20; }
    .sb-carousel-prev,
    .sb-carousel-next                   { @apply bg-light text-dark; }
    .sb-carousel-dot                    { @apply bg-light/20; }
    .sb-carousel-dot-active             { @apply bg-light; }
  }

  .bg-neutralAlt-fg-dark {
    @apply text-dark bg-neutralAlt;
    .sb-component-button-primary   { @apply bg-primary border-primary text-light; }
    .sb-component-button-secondary { @apply border-dark text-dark; }
  }

  /* Gradient helper */
  .bg-gradient-brand {
    background: linear-gradient(to right, #ffffff, #0a2540, #f97316);
    color: white;
  }
}

/* ──────────────────────────────────────────────
   3) Utilities layer
   ────────────────────────────────────────────── */
@layer utilities {
  .underline-line-through { text-decoration-line: underline line-through; }

  /* Infinite sliders */
  .sb-animate-slide-left  { animation: slideLeft  var(--sb-slide-speed,80s) linear infinite; }
  .sb-animate-slide-right { animation: slideRight var(--sb-slide-speed,80s) linear infinite; }

  @keyframes slideLeft  { from { transform: translate3d(0,0,0);} to { transform: translate3d(-50%,0,0);} }
  @keyframes slideRight { from { transform: translate3d(-50%,0,0);} to { transform: translate3d(0,0,0);} }

  /* Reusable fade‑in‑up utility (works with AOS or standalone) */
  @keyframes fadeInUp {
    0%   { opacity: 0; transform: translateY(40px); }
    100% { opacity: 1; transform: translateY(0); }
  }
  .fade-in-up {
    animation: fadeInUp 0.8s ease-out forwards;
    opacity: 0;
  }
}
